<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/main_side"
  i18n:domain="launchpad"
>

<body>
  <metal:registering fill-slot="registering">
    Created by
      <tal:registrant replace="structure context/registrant/fmt:link"/>
    on
      <tal:created-on replace="structure context/date_created/fmt:date"/>
    and last modified on
      <tal:last-modified replace="structure context/date_last_modified/fmt:date"/>
  </metal:registering>

  <metal:side fill-slot="side">
    <div tal:replace="structure context/@@+global-actions"/>
  </metal:side>

  <metal:heading fill-slot="heading">
    <h1 tal:content="context/display_name"/>
  </metal:heading>

  <div metal:fill-slot="main">
    <div tal:condition="python: view.git_repository is None">
      <p>
        You can create a git repositories for this OCI project in order to
        build your OCI recipes by using the following commands:
        <br />
        <pre class="command">
          git remote add origin git+ssh://<tal:name replace="context/registrant/name"/>@git.launchpad.net/<tal:name replace="view/git_repository_path"/>
          git push --set-upstream origin master
        </pre>
      </p>
    </div>
    <div tal:define="repo view/git_repository"
         tal:condition="repo">
      The default git repository for this project is
      <a tal:content="repo/display_name"
         tal:attributes="href repo/fmt:url">lp:foo</a>.
    </div>

    <h2>OCI project information</h2>
    <div class="two-column-list">
      <dl id="pillar" tal:define="pillar context/pillar">
        <dt>
            <span tal:condition="context/distribution">Distribution:</span>
            <span tal:condition="context/project">Project:</span>
        </dt>
        <dd>
          <a tal:attributes="href pillar/fmt:url"
             tal:content="pillar/display_name"/>
          <a tal:replace="structure context/menu:overview/edit/fmt:icon"/>
        </dd>
      </dl>
      <dl id="name">
        <dt>Name:</dt>
        <dd>
          <span tal:content="context/name"/>
          <a tal:replace="structure context/menu:overview/edit/fmt:icon"/>
        </dd>
      </dl>
    </div>

    <h2>Recipes</h2>
    <div id="recipe-summary"
         tal:define="link context/menu:context/view_recipes"
         tal:condition="link/enabled"
         tal:content="structure link/render"/>
    <tal:create-recipe
        define="link context/menu:context/create_recipe"
        condition="link/enabled"
        replace="structure link/render"/>
  </div>
</body>
</html>
