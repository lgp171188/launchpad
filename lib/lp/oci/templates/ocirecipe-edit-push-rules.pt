<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/main_only"
  i18n:domain="launchpad">
<body>

<div metal:fill-slot="main">
    <div metal:use-macro="context/@@launchpad_form/form">
    <metal:formbody fill-slot="widgets">
      <p condition="context/required:launchpad.Edit">
        <a class="sprite edit" tal:attributes="href context/owner/fmt:url/+edit-oci-registry-credentials">Edit OCI registry credentials</a>
      </p>
      <table class="form">
        <tr tal:repeat="rule context/push_rules">
          <tal:rules_widgets
            define="rules_widgets python:view.getRulesWidgets(rule);
                    parity python:'even' if repeat['rule'].even() else 'odd'">
            <td tal:define="widget nocall:rules_widgets/image_name">
              <metal:widget use-macro="context/@@launchpad_form/widget_div" />
            </td>
            <td tal:define="widget nocall:rules_widgets/username">
              <metal:widget use-macro="context/@@launchpad_form/widget_div" />
            </td>
            <td tal:define="widget nocall:rules_widgets/url">
              <metal:widget use-macro="context/@@launchpad_form/widget_div" />
            </td>
            <td tal:define="widget nocall:rules_widgets/delete">
              <metal:widget use-macro="context/@@launchpad_form/widget_div" />
            </td>
          </tal:rules_widgets>
        </tr>
      </table>
    </metal:formbody>
</div>

</div>
</body>
</html>
